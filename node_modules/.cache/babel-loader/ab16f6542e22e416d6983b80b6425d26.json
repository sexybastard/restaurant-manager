{"ast":null,"code":"import _defineProperty from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Learning Materials\\\\glints-test-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Learning Materials\\\\glints-test-app\\\\src\\\\FavoriteList.js\";\nimport React, { Component } from 'react';\n\nvar FavoriteList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FavoriteList, _Component);\n\n  function FavoriteList(props) {\n    var _this;\n\n    _classCallCheck(this, FavoriteList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FavoriteList).call(this, props));\n\n    _this.renderRestaurant = function (data, key) {\n      return React.createElement(\"div\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, \"ads\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, data.name));\n    };\n\n    _this.renderRestaurantList = function (ids) {\n      var db = _this.props.db;\n      var restaurantRef = db.collection('restaurants');\n      var restaurantList = [];\n      console.log(ids);\n      ids.forEach(function (item) {\n        restaurantRef.doc(item).get().then(function (doc) {\n          if (!doc.exists) {\n            console.log('Restaurant not found');\n          } else {\n            // return doc.data();\n            // restaurantList.push(doc.data());\n            // restaurantList = [...restaurantList, doc.data()]\n            // console.log(restaurantList);\n            return React.createElement(\"label\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, \"asd\"); // renderRestaurant(doc.data(), doc.id);\n          }\n        }).catch(function (err) {\n          console.log('Error getting restaurants', err);\n        });\n      }); // let restaurantList = ids.map(item => {\n      //   return restaurantRef.doc(item).get()\n      //   .then(doc => {\n      //     if (!doc.exists) {\n      //       console.log('Restaurant not found');\n      //       return null;\n      //     } else {\n      //       return doc.data();\n      //     }\n      //   })\n      //   .catch(err => {\n      //     console.log('Error getting restaurants', err);\n      //     return null;\n      //   });\n      // })\n      // return null;\n      // return (\n      //   <div>\n      //   {\n      //     restaurantList ? \n      //     restaurantList.map((item, key) => {\n      //       return renderRestaurant(item, key)\n      //     }) : null\n      //   }\n      //   </div>\n      // );\n    };\n\n    _this.fetchRestaurants = function (ids, key) {\n      var db = _this.props.db;\n\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var restaurantRef = db.collection('restaurants');\n      console.log(ids);\n      ids.forEach(function (item) {\n        var _this2 = this;\n\n        restaurantRef.doc(item).get().then(function (doc) {\n          if (!doc.exists) {\n            console.log('Restaurant not found');\n          } else {\n            _this2.setState({\n              restaurantList: _defineProperty({}, key, _toConsumableArray(that.state.restaurantList[key]).concat([doc.data()]))\n            }, function () {\n              return console.log(that.state.restaurantList);\n            });\n          }\n        }).catch(function (err) {\n          console.log('Error getting restaurants', err);\n        });\n      });\n    };\n\n    _this.renderFavorite = function (item, key) {\n      _this.fetchRestaurants(item.restaurants, key);\n\n      return React.createElement(\"div\", {\n        key: key,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-start',\n          border: '1px solid black'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, item.name), _this.renderRestaurantList(item.restaurants)));\n    };\n\n    _this.state = {\n      restaurantList: {}\n    };\n    return _this;\n  }\n\n  _createClass(FavoriteList, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var data = this.props.data;\n      return React.createElement(\"div\", {\n        style: {\n          border: '2px solid black'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, data.length > 0 ? data.map(function (item, key) {\n        return _this3.renderFavorite(item, key);\n      }) : React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"No favorite\"));\n    }\n  }]);\n\n  return FavoriteList;\n}(Component);\n\nexport default FavoriteList;","map":{"version":3,"sources":["D:\\Learning Materials\\glints-test-app\\src\\FavoriteList.js"],"names":["React","Component","FavoriteList","props","renderRestaurant","data","key","name","renderRestaurantList","ids","db","restaurantRef","collection","restaurantList","console","log","forEach","item","doc","get","then","exists","catch","err","fetchRestaurants","that","setState","state","renderFavorite","restaurants","display","justifyContent","border","flex","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nclass FavoriteList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  \r\n    this.state = {\r\n      restaurantList: {}\r\n    };\r\n  }\r\n\r\n  renderRestaurant = (data, key) => {\r\n    return <div key={key}>\r\n      <label>ads</label>\r\n      <label>{data.name}</label>\r\n    </div>\r\n  };\r\n\r\n  renderRestaurantList = (ids) => {\r\n    const {db} = this.props;\r\n    let restaurantRef = db.collection('restaurants');\r\n    let restaurantList = [];\r\n    console.log(ids);\r\n    ids.forEach(function(item){\r\n      restaurantRef.doc(item).get()\r\n      .then(doc => {\r\n        if (!doc.exists) {\r\n          console.log('Restaurant not found');\r\n        } else {\r\n          // return doc.data();\r\n          // restaurantList.push(doc.data());\r\n          // restaurantList = [...restaurantList, doc.data()]\r\n          // console.log(restaurantList);\r\n          return(\r\n            <label>asd</label>\r\n          )\r\n          // renderRestaurant(doc.data(), doc.id);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('Error getting restaurants', err);\r\n      });\r\n    })\r\n    // let restaurantList = ids.map(item => {\r\n    //   return restaurantRef.doc(item).get()\r\n    //   .then(doc => {\r\n    //     if (!doc.exists) {\r\n    //       console.log('Restaurant not found');\r\n    //       return null;\r\n    //     } else {\r\n    //       return doc.data();\r\n    //     }\r\n    //   })\r\n    //   .catch(err => {\r\n    //     console.log('Error getting restaurants', err);\r\n    //     return null;\r\n    //   });\r\n    // })\r\n   \r\n    // return null;\r\n    // return (\r\n    //   <div>\r\n    //   {\r\n    //     restaurantList ? \r\n    //     restaurantList.map((item, key) => {\r\n    //       return renderRestaurant(item, key)\r\n    //     }) : null\r\n    //   }\r\n    //   </div>\r\n    // );\r\n  };\r\n\r\n  fetchRestaurants = (ids, key) => {\r\n    const {db} = this.props;\r\n    const that = this;\r\n    let restaurantRef = db.collection('restaurants');\r\n    console.log(ids);\r\n    ids.forEach(function(item){\r\n      restaurantRef.doc(item).get()\r\n      .then(doc => {\r\n        if (!doc.exists) {\r\n          console.log('Restaurant not found');\r\n        } else {\r\n          this.setState({\r\n            restaurantList: {\r\n              [key]: [...that.state.restaurantList[key], doc.data()]\r\n            }\r\n          }, () => console.log(that.state.restaurantList))\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('Error getting restaurants', err);\r\n      });\r\n    })\r\n  }\r\n\r\n  renderFavorite = (item, key) => {\r\n    this.fetchRestaurants(item.restaurants, key);\r\n\r\n    return (\r\n      <div key={key} style={{display: 'flex', justifyContent: 'flex-start', border: '1px solid black'}}>\r\n        <div style={{flex: 1}}>\r\n          <label>{item.name}</label>\r\n          {this.renderRestaurantList(item.restaurants)}\r\n        </div>\r\n      </div>\r\n    )\r\n  };\r\n \r\n  render() {\r\n    const {data} = this.props;\r\n\r\n    return (\r\n      <div style={{border: '2px solid black'}}>\r\n      {\r\n        data.length > 0 ?\r\n        data.map((item, key) => this.renderFavorite(item, key)) :\r\n        <label>No favorite</label>\r\n      }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FavoriteList;"]},"metadata":{},"sourceType":"module"}